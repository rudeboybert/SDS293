<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Mini-Projects</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SDS 293</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://sds-293-2020-01.slack.com/">
    <span class="fa fa-slack fa-lg"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="syllabus.html">Syllabus</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Mini-Projects</h1>

</div>


<style>
h1{font-weight: 400;}
</style>
<!--
{target="_blank"}
-->
<hr />
<div id="MP1" class="section level1">
<h1>Mini-project 1</h1>
<div id="administrative-notes" class="section level2">
<h2>Administrative notes</h2>
<ul>
<li><strong>Executive summary</strong>: You will be making a submission to the <a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" target="_blank">House Prices: Advanced Regression Techniques</a> Kaggle competition based on a fitted spline model. The competition’s score for leaderboard purposes is the “root mean squared logarithmic error” (RMSLE).</li>
<li>Due Wednesday 2/13 5pm on Moodle.</li>
<li>You will be given time to work on MP1 in class on Wednesday 2/13.</li>
<li>Groups: Posted on <a href="https://moodle.smith.edu/course/view.php?id=33108" target="_blank">Moodle</a>. Whoever member #1 is will be the group leader.<br />
Ex: Group #1’s leader is LQ.</li>
</ul>
</div>
<div id="MP1-working" class="section level2">
<h2>Working on your project</h2>
<ul>
<li>Download the <code>MP1.zip</code> archive file containing the MP1 RStudio Project by clicking <a href="static/MP1.zip" download>here</a>.</li>
<li><strong>Windows users</strong>: Be sure to “extract” the contents of <code>MP1.zip</code> to a folder on your machine.</li>
<li>Whenever working on MP1, be sure to be in “RStudio Project mode” by looking for the RStudio Project icon:<br />
<img src="static/images/rstudio_projects.png" width="100" /></li>
<li>Get in “RStudio Project mode” either by:
<ol style="list-style-type: decimal">
<li>Clicking the <code>MP1.Rproj</code> file</li>
<li>Selecting <code>MP1</code> from the drop-down menu of RStudio Projects in the top right of RStudio</li>
</ol></li>
<li>Knit the <code>MP1.Rmd</code> file and read over everything once.</li>
<li>Whenever you’re not working on your project, click the RStudio Project icon in the top right of RStudio and select “Close Project”.</li>
<li><strong>Added on Mon 2/11</strong>: It is your responsibility to stay on top of all messages sent in the <code>#mp1</code> channel in Slack.</li>
<li><strong>Added on Mon 2/11</strong>: Feel free to use external sources, but please cite them using R Markdown footnotes. For example adding <code>^[This is my [source](https://www.smith.edu/)]</code> at the end of a sentence in R Markdown will yield: <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></li>
</ul>
</div>
<div id="what-to-submit" class="section level2">
<h2>What to submit</h2>
<ul>
<li><strong>Group leader only</strong>: Submit a <code>MP1_Group_XX.zip</code> archive file of <strong>all</strong> the contents of your <code>MP1</code> RStudio Project folder.<br />
Ex: Group #1’s leader LQ will submit a single file <code>MP1_Group_01.zip</code> on Moodle.</li>
<li><strong>Both group members</strong>: Complete the following peer evaluation <a href="https://docs.google.com/forms/d/e/1FAIpQLSc0F4X5s01LEfQ_-1ZJRnzL_jH6K9hnyjJVwLnfKq7tcqGo-A/viewform" target="_blank">Google Form</a>.<br />
Ex: Both Group #1’s members LQ and EN must complete the Google Form to receive full credit.</li>
</ul>
</div>
<div id="grading" class="section level2">
<h2>Grading</h2>
<ol style="list-style-type: decimal">
<li><strong>Minimally viable product:</strong> Grade: 8/10. Fit a splines model with an arbitrarily chosen numerical predictor variable <span class="math inline">\(x\)</span> and an arbitrarily chosen degrees of freedom <span class="math inline">\(df\)</span>. Using this model make a submission to Kaggle that returns a valid <span class="math inline">\(\text{RMLSE}\)</span> score. Also:
<ul>
<li>Your <code>MP1.Rmd</code> R Markdown “knits” correctly. In other words, an <code>.html</code> report gets created with no errors.</li>
<li>Complete the exploratory data analysis where all visualizations are as “stand-alone” as possible by having informative labels and titles.</li>
<li>Remove all superfluous non-informative output from your report that only makes it more painful/tiresome to read.</li>
<li>Both group members submit their peer evaluations. No extensions will be granted.</li>
</ul></li>
<li><strong>Due diligence:</strong> Grade: 8.5/10. Explore choices degrees of freedom <span class="math inline">\(df\)</span> in some non-arbitrary fashion. This could mean many things, including:
<ul>
<li>Explicitly compare the <span class="math inline">\(\text{RMLSE}\)</span> for two values of <span class="math inline">\(df\)</span>.</li>
<li>Implement the validation set prediction framework you saw in <a href="https://campus.datacamp.com/courses/modeling-with-data-in-the-tidyverse/model-assessment-and-selection?ex=10" target="_blank">Chapter 4</a> of the Modeling with Data in the tidyverse DataCamp course.</li>
</ul></li>
<li><strong>Reaching for the stars:</strong> Grade: 9/10. Fully implement a crossvalidation scheme from scratch in order to:
<ul>
<li>Find the optimal “model complexity”. In other words, find the optimal degrees of freedom <span class="math inline">\(df^*\)</span> in a systematic fashion.</li>
<li>Get a good estimate <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> of the <span class="math inline">\(\text{RMLSE}\)</span> that Kaggle will return for your submission.</li>
</ul></li>
<li><strong>Point of diminishing returns:</strong> Grade: 9.5/10. Create a visualization like in <a href="http://rudeboybert.rbind.io/talk/2019-01-13-Williams.pdf#page=36" target="_blank">Lec01 slides #36</a> that shows
<ul>
<li>The relationship between “model complexity” set by <span class="math inline">\(df\)</span> and <span class="math inline">\(\text{RMLSE}\)</span> for both the training and test data.</li>
<li>That the optimal <span class="math inline">\(df^*\)</span> is the “just right” balance point between underfitting and overfitting.</li>
</ul></li>
<li><strong>Polishing the cannonball:</strong> Grade: 10/10. Try to get the highest Kaggle score in the class!</li>
</ol>
</div>
<div id="suggestions" class="section level2">
<h2>Suggestions</h2>
<p><strong>Always start simple!</strong> Don’t try to do things perfectly from the very beginning, but instead follow the <a href="http://theleanstartup.com/principles" target="_blank">Build, Measure, Learn</a> cycle espoused by certain individuals in the startup world:</p>
<ol style="list-style-type: decimal">
<li><strong>Build</strong>: Start by building a <a href="https://www.forbes.com/sites/quora/2018/02/27/what-is-a-minimum-viable-product-and-why-do-companies-need-them/#178bd8a2382c" target="_blank">minimially viable product</a>.</li>
<li><strong>Measure</strong>: Collect feedback and perform assessments on your product.</li>
<li><strong>Learn</strong>: Learn from this data to figure out what improvements can be made, what complexity can be added, what should be removed in the next version of your product.</li>
</ol>
<p>Repeat the above and slowly <strong>iterate</strong> to perfection while keeping in mind that <strong>done is better than perfect.</strong></p>
<center>
<img src="static/images/BML.png" width="275" /> <img src="static/images/MVP.png" width="525" />
</center>
</div>
<div id="MP1-solutions" class="section level2">
<h2>Solutions</h2>
<ul>
<li><a href="static/MP1_albert_MVP.html" target="_blank"><code>MP1_albert_MVP.html</code></a></li>
<li><a href="static/MP1_albert_MVP.Rmd" download><code>MP1_albert_MVP.Rmd</code></a></li>
</ul>
<hr />
</div>
</div>
<div id="MP2" class="section level1">
<h1>Mini-project 2</h1>
<div id="administrative-notes-1" class="section level2">
<h2>Administrative notes</h2>
<ul>
<li><strong>Executive summary</strong>: You will be making a submission to the <a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" target="_blank">House Prices: Advanced Regression Techniques</a> Kaggle competition based on a fitted <del>spline</del> multiple regression model. The competition’s score for leaderboard purposes is the “root mean squared logarithmic error” (RMSLE).</li>
<li><strong>Due Wednesday 3/6 5pm on Moodle</strong>.</li>
<li>You will be given time to work on MP2 in class on Monday 3/4 and Wednesday 3/6.</li>
<li>Groups: You must work with a different partner than MP1
<ul>
<li><strong>If you already have a group</strong>: Designate a team leader and have them fill out this <a href="https://docs.google.com/spreadsheets/d/1YRlmq4pvrzmtq0iUha4uCwg2Xwiz3l1_e5ji-rWoqlc/" target="_blank">Google Sheet</a>.</li>
<li><strong>If you need a group</strong>: Please fill out this <a href="https://docs.google.com/forms/d/e/1FAIpQLSeifexbjkXQNgm6d7bvSn0KcYoB6RVH5ab50o-RS6NfAS58AQ/viewform">Google Form</a> and I’ll assign one for you.</li>
</ul></li>
</ul>
</div>
<div id="MP2-working" class="section level2">
<h2>Working on your project</h2>
<ul>
<li>Join the <code>#mp2</code> Slack channel.</li>
<li>Download the <code>MP2.zip</code> archive file containing the MP2 RStudio Project by clicking <a href="static/MP2.zip" download>here</a>.</li>
<li><strong>Windows users</strong>: Be sure to “extract” the contents of <code>MP2.zip</code> to a folder on your machine.</li>
<li>Whenever working on MP2, be sure to be in “RStudio Project mode” either by:
<ol style="list-style-type: decimal">
<li>Clicking the <code>MP2.Rproj</code> file</li>
<li>Selecting <code>MP2</code> from the drop-down menu of RStudio Projects in the top right of RStudio.</li>
</ol></li>
<li>Knit the <code>MP2.Rmd</code> file and read over everything once.</li>
<li>Whenever you’re not working on your project, click the RStudio Project icon in the top right of RStudio and select “Close Project”.</li>
<li>Policies:
<ul>
<li>You may use a function from a package to compute the RMLSE.</li>
<li>You may not use a function from a packge to perform cross-validation; please code it up manually.</li>
<li>Feel free to use external sources, but please cite them using R Markdown footnotes. For example adding <code>^[This is my [source](https://www.smith.edu/)]</code> at the end of a sentence in R Markdown will yield: <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></li>
</ul></li>
<li><strong>Clarifications added Friday 3/1 5PM</strong>:
<ul>
<li>From the “Minimally viable product” phase, you can remove the <code>## Comparisons of estimated scores and Kaggle scores</code> subsection, as this is part of the following “Due diligence” phase</li>
<li>From the “Due diligence” phase, you can remove the <code>## Model fitting</code>, <code>## Estimate of your Kaggle score</code>, <code>## Create your submission CSV</code>, and <code>## Screenshot of your Kaggle score</code> subsections, as those were part of the previous “Minimally viable product” phase.</li>
</ul></li>
<li><strong>Clarifications added Tuesday 3/5 8AM</strong>:
<ul>
<li>For the “point of diminishing returns” phase asking you to use a “subset selection” method from Chapter 6.1, don’t start with all 81 predictor variables, but rather start with only the 6 variables from the “reaching for the stars” phase. Think of it this way: you are “shopping” for variables to include in your model and want to pick the “best” ones to put in your shopping cart (your ultimate model). Your choice of variables to “shop from” are not ALL 81 predictors, since it would take forever to do an exploratory data analysis, clean, and make sure all variables work in a fitted model. Rather your choice of variables to “shop from” are the 6 predictors from the “reaching for the stars” phase, since you already did an exploratory data analysis on, cleaned, and made sure all variables work in a fitted model. So after applying a subset selection method, you’ll end up with a model with either 0, 1, …, 5, or 6 of your “reaching for the stars” variables.<br />
<strong>Why are we doing this?</strong> Later on, we’ll study an even MORE principled way to “shop” for variables than “subset selection” called LASSO regularization. For a preview see Chapter 6.2.2. in the ISLR textbook.</li>
<li>For all three models <span class="math inline">\(\widehat{f}_{1}\)</span>, <span class="math inline">\(\widehat{f}_{2}\)</span>, <span class="math inline">\(\widehat{f}_{3}\)</span>, your estimate of <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> <strong>must</strong> closely match the <span class="math inline">\(\text{RMLSE}\)</span> that Kaggle returns; the grader will be instructed to grade accordingly. By “closely match” it is generally meant that they must be of the same <a href="https://en.wikipedia.org/wiki/Order_of_magnitude" target="_blank">order of magnitude</a>.<br />
<strong>Why are we doing this?</strong> Because in an active Kaggle competition, you are almost always limited in the number of submissions you can make in a day. For example, in the currently running <a href="https://www.kaggle.com/c/ga-customer-revenue-prediction/rules" target="_blank">Google Analytics Customer Revenue Prediction</a> competition, you can only make 5 submissions a day, hence only get 5 scores a day. If you’re serious about winning a competition however, you’ll definitely need to evaluate more than 5 models a day. So if you are limited in the number of “real” <span class="math inline">\(\text{RMLSE}\)</span> scores you can obtain in a day, what is the next best thing? Getting <em>estimates</em> of the score <span class="math inline">\(\widehat{\text{RMLSE}}\)</span>.</li>
<li>You are not required to explicitly submit any exploratory visualizations for this MP. However you should still be making visualizations during your model fitting phase, just not invest the time to polish them. That being said, including a well polished visualization that argues why a particular predictor variable should be used can be a very effective way to provide insight and hence make your report stand out.</li>
<li>What is meant by “remove all superfluous non-informative output”? Think of it this way: If two people present two R Markdown reports containing roughly the same amount of new insight and information, but one is 2 pages long and one is 20 pages long, which one do you think people will read? The answer is obvious. However, what precisely constitutes “non-informative output” is often a subjective and non-obvious choice. Whatever your choice may be however, you’ll need to <strong>own that choice</strong>. That being said, one example of obviously “non-informative output” is including the entire contents of a 10k row data frame in your report; no human on earth can digest 10k rows of data.</li>
</ul></li>
<li><strong>Hints added Tuesday 3/5 8AM</strong>:
<ul>
<li>Crossvalidation does one thing and one thing only: it returns an estimate <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> of the true <span class="math inline">\(\text{RMLSE}\)</span> when you don’t have access to the <span class="math inline">\(y\)</span>’s in the test set. But unlike the “validation set” approach, every observation gets predicted once, in other words every <span class="math inline">\(y\)</span> gets a turn at being predicted with a <span class="math inline">\(\widehat{y}\)</span>. Now, what you do with these estimates <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> is another question. So for example in MP1, we used these estimates <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> to choose the optimal complexity of the splines model as determined by the optimal <span class="math inline">\(df^*\)</span>; but choosing the optimal complexity of a model is not <em>inherently</em> part of crossvalidation; it merely <em>uses</em> the results of crossvalidation.</li>
<li><em>“Help! I’m having a lot of trouble working with categorical variables!”</em> Good! That is the point of this MP! When you’re encountering such issues, start peeling away all the layers of abstraction and <strong>look at your data</strong>. Go inside the inputs and outputs of functions and <code>for</code> loops and look at the raw values, compute summary statistics, and create visualizations. You’ll almost always find the source of your error/issue somewhere in the data.</li>
<li><strong>Start simple and build up, don’t start complex and build down!</strong> Compare these two approaches:
<ol style="list-style-type: decimal">
<li>You fit a model using predictors <span class="math inline">\(x_1, x_2\)</span> and it returns working predictions <span class="math inline">\(\widehat{y}\)</span>. You fit the next iteration of the model using <span class="math inline">\(x_1, x_2, x_3\)</span> but get an error. What is the source of the problem?</li>
<li>You fit a model using <strong>all</strong> predictors <span class="math inline">\(x_{1}, x_{2}, x_{3}, x_{4}, x_{5}, x_{6}, x_{7}, x_{8}, x_{9}, x_{10}, x_{11}, x_{12}, x_{13}, x_{14}, x_{15}, x_{16}, x_{17}, x_{18}, x_{19}, x_{20}, x_{21}, x_{22}, x_{23}, x_{24}, x_{25}, x_{26},\)</span><br />
<span class="math inline">\(x_{27}, x_{28}, x_{29}, x_{30}, x_{31}, x_{32}, x_{33}, x_{34}, x_{35}, x_{36}, x_{37}, x_{38}, x_{39}, x_{40}, x_{41}, x_{42}, x_{43}, x_{44}, x_{45}, x_{46}, x_{47}, x_{48}, x_{49}, x_{50},\)</span><br />
<span class="math inline">\(x_{51}, x_{52}, x_{53}, x_{54}, x_{55}, x_{56}, x_{57}, x_{58}, x_{59}, x_{60}, x_{61}, x_{62}, x_{63}, x_{64}, x_{65}, x_{66}, x_{67}, x_{68}, x_{69}, x_{70}, x_{71}, x_{72}, x_{73}, x_{74},\)</span><br />
<span class="math inline">\(x_{75}, x_{76}, x_{77}, x_{78}, x_{79}, x_{80}, x_{81}\)</span><br />
but get an error. What is the source of the problem?</li>
</ol></li>
</ul></li>
</ul>
<!--
library(tidyverse); str_c("x_{", 1:81, "}", sep = "") %>% str_c(collapse = ", ")
-->
</div>
<div id="what-to-submit-1" class="section level2">
<h2>What to submit</h2>
<ul>
<li><strong>Group leader only</strong>: Submit a <code>MP2_Group_XX.zip</code> archive file of <strong>all</strong> the contents of your <code>MP2</code> RStudio Project folder.<br />
</li>
<li><strong>Both group members</strong>: Complete the following peer evaluation <a href="https://docs.google.com/forms/d/e/1FAIpQLSf0a9F3_tZNtil3_IZBwPpvxuC2ubmWs54fDuFmmxYtcrhN-w/viewform" target="_blank">Google Form</a>. Both group members must complete the Google Form to receive full credit.</li>
</ul>
</div>
<div id="grading-1" class="section level2">
<h2>Grading</h2>
<ol style="list-style-type: decimal">
<li><strong>Baseline:</strong> Projects that do not satisfy all “baseline” criteria should expect to get a grade of less than 8/10.
<ul>
<li>Your <code>MP2.Rmd</code> R Markdown file must absolutely “knit” correctly.</li>
<li>Regardless of which model you fit, you must output a submission <code>.csv</code> file that returns a valid <span class="math inline">\(\text{RMLSE}\)</span> score on Kaggle. The grader will test this.</li>
<li>All plots (if any) must be “stand-alone” as possible by having informative labels and titles.</li>
<li>Remove all superfluous non-informative output from your report that only makes it more painful/tiresome to read.</li>
<li>Both group members submit their peer evaluations. No extensions will be granted.</li>
</ul></li>
<li><strong>Minimally viable product:</strong> Grade: 8/10.
<ul>
<li>Satisfy all “baseline” criteria.</li>
<li>Fit a regression model <span class="math inline">\(\widehat{f}_{1}\)</span> using one arbitrarily chosen numerical predictor and one arbitrarily chosen categorical predictor.</li>
</ul></li>
<li><strong>Due diligence:</strong> Grade: 8.5/10.
<ul>
<li>Satisfy all “baseline” and “minimally viable product” criteria.</li>
<li>Using the model <span class="math inline">\(\widehat{f}_{1}\)</span>, obtain an estimate <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> that closely matches the <span class="math inline">\(\text{RMLSE}\)</span> that Kaggle returns.</li>
</ul></li>
<li><strong>Reaching for the stars:</strong> Grade: 9/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, and “due diligence” criteria.</li>
<li>Fit a regression model <span class="math inline">\(\widehat{f}_{2}\)</span> using <strong>three</strong> arbitrarily chosen numerical predictors and <strong>three</strong> arbitrarily chosen categorical predictors.</li>
<li>Using this model <span class="math inline">\(\widehat{f}_{2}\)</span>, obtain an estimate <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> that closely matches the <span class="math inline">\(\text{RMLSE}\)</span> that Kaggle returns.</li>
<li>Compare the <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> and <span class="math inline">\(\text{RMLSE}\)</span> you obtain for <span class="math inline">\(\widehat{f}_{2}\)</span> with the ones you obtained with <span class="math inline">\(\widehat{f}_{1}\)</span>.</li>
</ul></li>
<li><strong>Point of diminishing returns:</strong> Grade: 9.5/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, and “reaching for the stars” criteria.</li>
<li>Fit a regression model <span class="math inline">\(\widehat{f}_{3}\)</span> choosing your predictor variables <strong>from the 6 your chose in the “reaching for the stars” phase</strong> in a non-arbitrary fashion using a method in Chapter 6.1 of the ISLR textbook.</li>
<li>Using this model <span class="math inline">\(\widehat{f}_{3}\)</span>, obtain an estimate <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> that closely matches the <span class="math inline">\(\text{RMLSE}\)</span> that Kaggle returns.<br />
</li>
<li>Compare the <span class="math inline">\(\widehat{\text{RMLSE}}\)</span> and <span class="math inline">\(\text{RMLSE}\)</span> you obtain for all three models <span class="math inline">\(\widehat{f}_{1}\)</span>, <span class="math inline">\(\widehat{f}_{2}\)</span>, and <span class="math inline">\(\widehat{f}_{3}\)</span></li>
</ul></li>
<li><strong>Polishing the cannonball:</strong> Grade: 10/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, “reaching for the stars”, and “point of diminishing returns” criteria.</li>
<li>Try to get the highest Kaggle score in the class!</li>
</ul></li>
</ol>
</div>
<div id="suggestions-1" class="section level2">
<h2>Suggestions</h2>
<ul>
<li>Start simple and slowly add complexity. If you start with the most complex model possible and something doesn’t work, you’ll have a harder time debugging.</li>
<li>In other words, add variables incrementally and build up your models. Don’t start with everything and build down to a working model.</li>
</ul>
<hr />
</div>
</div>
<div id="MP3" class="section level1">
<h1>Mini-project 3</h1>
<div id="administrative-notes-2" class="section level2">
<h2>Administrative notes</h2>
<ul>
<li><strong>Executive summary</strong>: You will be making a submission to the <a href="https://www.kaggle.com/c/donorschoose-application-screening/" target="_blank">DonorsChoose.org Application Screening: Predict whether teachers’ project proposals are accepted</a> Kaggle competition based on a fitted logistic regression model. The competition’s score for leaderboard purposes is the “Area under the Receiver Operating Characteristic Curve” (AUC).</li>
<li><strong>Due Wednesday 3/27 10pm on Moodle</strong>.</li>
<li>You will be given time to work on MP3 in class on Monday 3/25 and Wednesday 3/27.</li>
<li>Groups: Posted on <a href="https://moodle.smith.edu/course/view.php?id=33108" target="_blank">Moodle</a>. Whoever member #1 is will be the group leader.<br />
Ex: Group #1’s leader is BT.</li>
</ul>
</div>
<div id="MP3-working" class="section level2">
<h2>Working on your project</h2>
<p>I will post all clarifications and hints in this section.</p>
<ul>
<li>Join the <code>#mp3</code> Slack channel.</li>
<li>Download the <code>MP3.zip</code> archive file containing the MP3 RStudio Project by clicking <a href="static/MP3.zip" download>here</a>.</li>
<li><strong>Windows users</strong>: Be sure to “extract” the contents of <code>MP3.zip</code> to a folder on your machine.</li>
<li>Whenever working on MP3, be sure to be in “RStudio Project mode” either by:
<ol style="list-style-type: decimal">
<li>Clicking the <code>MP3.Rproj</code> file</li>
<li>Selecting <code>MP3</code> from the drop-down menu of RStudio Projects in the top right of RStudio.</li>
</ol></li>
<li>Knit the <code>MP3.Rmd</code> file and read over everything once.</li>
<li>Whenever you’re not working on your project, click the RStudio Project icon in the top right of RStudio and select “Close Project”.</li>
<li>Policies:
<ul>
<li>You may use a function from a package to compute the relevant Kaggle leaderboard score.</li>
<li>You may not use a function from a packge to perform cross-validation; please code it up manually.</li>
<li>Feel free to use external sources, but please cite them using R Markdown footnotes. For example adding <code>^[This is my [source](https://www.smith.edu/)]</code> at the end of a sentence in R Markdown will yield: <a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></li>
</ul></li>
<li><strong>Added on Wed 3/20 1pm</strong>
<ul>
<li>On Moodle you’ll be submitting the contents of your <code>MP3</code> RStudio Project folder <strong>but not the data files! They are huge!</strong></li>
<li>Predictor variables:
<ol style="list-style-type: decimal">
<li>For the “Reaching for the stars” step, you’ll be using the numerical predictor <code>teacher_number_of_previously_posted_projects</code>.</li>
<li>For the “Point of diminishing returns” step, you’ll be using the categorical predictor <code>project_grade_category</code></li>
</ol></li>
<li>When creating all ROC plots using <code>yardstick::roc_curve()</code> and computing all “Areas under the ROC (AUC)” using <code>yardstick::roc_auc()</code>, the <code>truth</code> input needs to be a <code>factor()</code> categorical variable with the <code>levels</code> ordered so that the first level corresponds to <span class="math inline">\(y=1\)</span>. Click <a href="https://rudeboybert.github.io/SDS192/tips_and_tricks.html#how_do_i_reorder_bars_in_a_barplot" target="_blank">here</a> to see how to reoreder levels of a cateogorical variable.</li>
<li>No crossvalidation necessary for this MP.</li>
</ul></li>
<li><strong>Added on Tue 3/26 6:30pm</strong> The code below is a “minimally reproducible example” (AKA a <a href="https://www.tidyverse.org/help/" target="_blank">reprex</a>) of an AUC computation.</li>
<li><strong>Added on Wed 3/27 1:45pm</strong> No visualization needed for <strong>Polishing the cannonball</strong> phase.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(yardstick)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(broom)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co"># Load example:</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">example &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://rudeboybert.github.io/SDS293/static/binary_example.csv&quot;</span>)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co"># Input to glm() should be with y as a numerical variable. Do not convert</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co"># y into a factor yet.</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">model &lt;-<span class="st"> </span><span class="kw">glm</span>(y <span class="op">~</span><span class="st"> </span>x_num, <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>, <span class="dt">data =</span> example)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11"></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co"># Compute fitted probabilities p-hat:</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">fitted_points &lt;-<span class="st"> </span>model <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="st">  </span><span class="kw">augment</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">p_hat =</span> <span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">exp</span>(<span class="op">-</span>.fitted))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="st">  </span><span class="kw">select</span>(y, x_num, p_hat)</a>
<a class="sourceLine" id="cb1-17" data-line-number="17"></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co"># Plot with y as numerical so that we can compare it with p-hats. Do not convert</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co"># y into a factor yet.</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="kw">ggplot</span>(fitted_points, <span class="kw">aes</span>(<span class="dt">x =</span> x_num)) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="kw">aes</span>(<span class="dt">y =</span> y), <span class="dt">height =</span> <span class="fl">0.01</span>, <span class="dt">width =</span> <span class="fl">0.05</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> p_hat), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb1-23" data-line-number="23"></a>
<a class="sourceLine" id="cb1-24" data-line-number="24"><span class="co"># Get AUC via roc_auc()</span></a>
<a class="sourceLine" id="cb1-25" data-line-number="25"><span class="co"># -first argument (that is piped) is the data frame</span></a>
<a class="sourceLine" id="cb1-26" data-line-number="26"><span class="co"># -second is truth, which is the outcome variable</span></a>
<a class="sourceLine" id="cb1-27" data-line-number="27"><span class="co"># -third argument are the fitted probabilities corresponding to the binary</span></a>
<a class="sourceLine" id="cb1-28" data-line-number="28"><span class="co"># outcome of interest. Here that y = 1</span></a>
<a class="sourceLine" id="cb1-29" data-line-number="29">fitted_points <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-30" data-line-number="30"><span class="st">  </span><span class="kw">roc_auc</span>(<span class="dt">truth =</span> y, p_hat)</a>
<a class="sourceLine" id="cb1-31" data-line-number="31"></a>
<a class="sourceLine" id="cb1-32" data-line-number="32"><span class="co"># That doesn&#39;t work since y is numerical. So now:</span></a>
<a class="sourceLine" id="cb1-33" data-line-number="33"><span class="co"># -Convert y into a factor/categorical variable</span></a>
<a class="sourceLine" id="cb1-34" data-line-number="34"><span class="co"># -Set the first level of categorical variable to be &quot;1&quot; using fct_relevel()</span></a>
<a class="sourceLine" id="cb1-35" data-line-number="35"><span class="co"># from the forcats package (Note there are many ways to do this)</span></a>
<a class="sourceLine" id="cb1-36" data-line-number="36">fitted_points <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-37" data-line-number="37"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">y_as_factor =</span> <span class="kw">factor</span>(y)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-38" data-line-number="38"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">y_as_factor =</span> <span class="kw">fct_relevel</span>(y_as_factor, <span class="st">&quot;1&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-39" data-line-number="39"><span class="st">  </span><span class="kw">roc_auc</span>(<span class="dt">truth =</span> y_as_factor, p_hat)</a></code></pre></div>
</div>
<div id="what-to-submit-2" class="section level2">
<h2>What to submit</h2>
<ul>
<li><strong>Group leader only</strong>: Submit a <code>MP3_Group_XX.zip</code> archive file with the contents of your <code>MP3</code> RStudio Project folder <strong>but not the data files! They are huge!</strong> You can assume I have them.</li>
<li><strong>Both group members</strong>: Complete the following peer evaluation <a href="https://docs.google.com/forms/d/e/1FAIpQLSfIRbLHxWMzvKHiB0nd5iXQatrsNGek3lkkHl5JXD921F5tDg/viewform" target="_blank">Google Form</a>. Both group members must complete the Google Form to receive full credit.</li>
</ul>
</div>
<div id="grading-2" class="section level2">
<h2>Grading</h2>
<ol style="list-style-type: decimal">
<li><strong>Baseline:</strong> Projects that do not satisfy all “baseline” criteria should expect to get a grade of less than 8/10.
<ul>
<li>Your <code>MP3.Rmd</code> R Markdown file must absolutely “knit” correctly.</li>
<li>Regardless of which model you fit, you must output a submission <code>.csv</code> file that returns a valid score on Kaggle. The grader will test this.</li>
<li>All plots (if any) must be “stand-alone” as possible by having informative labels and titles.</li>
<li>Remove all superfluous non-informative output from your report that only makes it more painful/tiresome to read.</li>
<li>Both group members submit their peer evaluations. No extensions will be granted.</li>
</ul></li>
<li><strong>Minimally viable product:</strong> Grade: 8/10.
<ul>
<li>Satisfy all “baseline” criteria.</li>
<li>Fit a logistic regression model <span class="math inline">\(\widehat{f}_{1}\)</span> using <strong>no predictor variables</strong>, answer the stated question, get an estimate of your Kaggle score, make your predictions &amp; submit them.</li>
</ul></li>
<li><strong>Due diligence:</strong> Grade: 8.5/10.
<ul>
<li>Satisfy all “baseline” and “minimally viable product” criteria.</li>
<li>Plot the corresponding ROC curve such that the area under the curve is <span class="math inline">\(\geq 0.50\)</span></li>
</ul></li>
<li><strong>Reaching for the stars:</strong> Grade: 9/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, and “due diligence” criteria.</li>
<li>Fit a logistic regression model <span class="math inline">\(\widehat{f}_{2}\)</span> using the numerical predictor <code>teacher_number_of_previously_posted_projects</code>, create the single visualization with the 3 elements in it, get an estimate of your Kaggle score, make your predictions &amp; submit them, plot the corresponding ROC curve such that the area under the curve is <span class="math inline">\(\geq 0.50\)</span>.</li>
</ul></li>
<li><strong>Point of diminishing returns:</strong> Grade: 9.5/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, and “reaching for the stars” criteria.</li>
<li>Fit a logistic regression model <span class="math inline">\(\widehat{f}_{3}\)</span> using the cateogorical predictor <code>project_grade_category</code>, create the single visualization with the <del>3</del> 2 elements in it, get an estimate of your Kaggle score, make your predictions &amp; submit them, plot the corresponding ROC curve such that the area under the curve is <span class="math inline">\(\geq 0.50\)</span>.</li>
</ul></li>
<li><strong>Polishing the cannonball:</strong> Grade: 10/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, “reaching for the stars”, and “point of diminishing returns” criteria.</li>
<li>Create an extended model <span class="math inline">\(\widehat{f}_{4}\)</span> by including other variables and try to get the highest Kaggle score in the class! Do this in a new section <code># Polishing the cannoball</code> whose structure is a copy of the <code># Point of diminishing returns</code> section’s structure. In other words, copy and paste the blank lines corresponding to <code># Point of diminishing returns</code> and rename it <code># Polishing the cannoball</code>.</li>
</ul></li>
</ol>
</div>
<div id="MP3-solutions" class="section level2">
<h2>Solutions</h2>
<ul>
<li><a href="static/MP3_solutions.html" target="_blank"><code>MP3_solutions.html</code></a></li>
<li><a href="static/MP3_solutions.Rmd" download><code>MP3_solutions.Rmd</code></a></li>
</ul>
<hr />
</div>
</div>
<div id="MP4" class="section level1">
<h1>Mini-project 4</h1>
<div id="administrative-notes-3" class="section level2">
<h2>Administrative notes</h2>
<ul>
<li><strong>Executive summary</strong>: You will be making a submission to the <a href="https://www.kaggle.com/c/ghouls-goblins-and-ghosts-boo/" target="_blank">Ghouls, Goblins, and Ghosts… Boo!</a> Kaggle competition based on a fitted CART model. The competition’s score for leaderboard purposes is the “Categorization Accuracy”. However you will <strong>not</strong> be making any submissions to Kaggle.</li>
<li><strong>Due Wednesday 4/17 10pm on Moodle</strong>.</li>
<li>You will be given time to work on MP4 in class on Monday 4/15 and Wednesday 4/17.</li>
<li>Groups: You must work with a different partner than MP1, MP2, and MP3.
<ul>
<li><strong>If you already have a group</strong>: Designate a team leader and have them fill out this <a href="https://docs.google.com/spreadsheets/d/1YRlmq4pvrzmtq0iUha4uCwg2Xwiz3l1_e5ji-rWoqlc/" target="_blank">Google Sheet</a>.</li>
<li><strong>If you need a group</strong>: Please fill out this <a href="https://docs.google.com/forms/d/1j8WyIvX9IHhpoNjpkputp065wjS4QgiTvIUDMDJaFW0/">Google Form</a> and I’ll assign one for you.</li>
</ul></li>
</ul>
</div>
<div id="MP4-working" class="section level2">
<h2>Working on your project</h2>
<p>I will post all clarifications and hints in this section.</p>
<ul>
<li>Join the <code>#mp4</code> Slack channel.</li>
<li>Download the <code>MP4.zip</code> archive file containing the MP4 RStudio Project by clicking <a href="static/MP4.zip" download>here</a>.</li>
<li><strong>Windows users</strong>: Be sure to “extract” the contents of <code>MP4.zip</code> to a folder on your machine.</li>
<li>Whenever working on MP4, be sure to be in “RStudio Project mode” either by:
<ol style="list-style-type: decimal">
<li>Clicking the <code>MP4.Rproj</code> file</li>
<li>Selecting <code>MP4</code> from the drop-down menu of RStudio Projects in the top right of RStudio.</li>
</ol></li>
<li>Knit the <code>MP4.Rmd</code> file and read over everything once.</li>
<li>Whenever you’re not working on your project, click the RStudio Project icon in the top right of RStudio and select “Close Project”.</li>
<li>Policies:
<ul>
<li>You may use a function from a package to compute the relevant Kaggle leaderboard score.</li>
<li>You may not use a function from a packge to perform cross-validation; please code it up manually.</li>
<li>Feel free to use external sources, but please cite them using R Markdown footnotes. For example adding <code>^[This is my [source](https://www.smith.edu/)]</code> at the end of a sentence in R Markdown will yield: <a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></li>
</ul></li>
</ul>
</div>
<div id="what-to-submit-3" class="section level2">
<h2>What to submit</h2>
<ul>
<li><strong>Group leader only</strong>: Submit a <code>MP4_Group_XX.zip</code> archive file with the contents of your <code>MP4</code> RStudio Project folder <strong>but not the data files! They are huge!</strong> You can assume I have them.</li>
<li><strong>Both group members</strong>: Complete the following peer evaluation <a href="https://docs.google.com/forms/d/e/1FAIpQLSctQmzuqGR7guPJkOZB01NqtdHl-2EtM45cGBGsda0hDOmc0A/viewform" target="_blank">Google Form</a>. Both group members must complete the Google Form to receive full credit.</li>
</ul>
</div>
<div id="grading-3" class="section level2">
<h2>Grading</h2>
<ol style="list-style-type: decimal">
<li><strong>Baseline:</strong> Projects that do not satisfy all “baseline” criteria should expect to get a grade of less than 8/10.
<ul>
<li>Your <code>MP4.Rmd</code> R Markdown file must absolutely “knit” correctly.</li>
<li>Regardless of which model you fit, you must output a submission <code>.csv</code> file that returns a valid score on Kaggle. The grader will test this.</li>
<li>All plots (if any) must be “stand-alone” as possible by having informative labels and titles.</li>
<li>Remove all superfluous non-informative output from your report that only makes it more painful/tiresome to read.</li>
<li>Both group members submit their peer evaluations. No extensions will be granted.</li>
</ul></li>
<li><strong>Minimally viable product:</strong> Grade: 8/10.
<ul>
<li>Satisfy all “baseline” criteria.</li>
<li>Perform the specified exploratory data analyses.</li>
</ul></li>
<li><strong>Due diligence:</strong> Grade: 9/10.
<ul>
<li>Satisfy all “baseline” and “minimally viable product” criteria.</li>
<li>Fit a CART where:
<ul>
<li>You use only the numerical predictors.</li>
<li>The maximum depth of the tree is 5.</li>
<li>You use the default “complexity parameter”</li>
</ul></li>
<li>Plot the tree.</li>
<li>Make predictions <code>type_hat</code> on the <code>training</code> data. Hint compare the output of: <code>predict(model_CART, type = &quot;prob&quot;)</code> and <code>predict(model_CART, type = &quot;class&quot;)</code>.</li>
<li>Compute the “classification accuracy”.</li>
<li><strong>Added Mon 4/15 2:30pm</strong> You do not need CV in this phase.</li>
</ul></li>
<li><strong>Reaching for the stars:</strong> Grade: 9.5/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, and “due diligence” criteria.</li>
<li>Reusing the MP1 solutions code, for the range of <code>alpha</code> complexity parameters in the <code>alpha_df</code> data frame, return an estimate of the accuracy that Kaggle would return. <strong>Added Mon 4/15 2:30pm</strong> Do I need to do CV for this phase? The answer is in directly given in the previous sentence. What does CV return?</li>
<li>Plot the relationship between the alpha complexity parameter and accuracy.</li>
<li>Using the optimal <span class="math inline">\(\alpha^*\)</span> complexity parameter, write a <code>submission.csv</code> suitable for submission to Kaggle.</li>
</ul></li>
<li><strong>Point of diminishing returns:</strong> Grade: 10/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, and “reaching for the stars” criteria.</li>
<li>Use one-hot-enconding to fit a predictive CART model using the categorical variable <code>color</code> and plot the tree. Set the maximum depth of the tree to 5 and use the default “complexity parameter”.</li>
<li>No need to generate an estimate of the accuracy that Kaggle would return.</li>
</ul></li>
<li><strong>Polishing the cannonball:</strong> None</li>
</ol>
</div>
<div id="MP4-solutions" class="section level2">
<h2>Solutions</h2>
<ul>
<li><a href="static/MP4_solutions.html" target="_blank"><code>MP4_solutions.html</code></a></li>
<li><a href="static/MP4_solutions.Rmd" download><code>MP4_solutions.Rmd</code></a></li>
</ul>
<hr />
</div>
</div>
<div id="MP5" class="section level1">
<h1>Mini-project 5</h1>
<div id="administrative-notes-4" class="section level2">
<h2>Administrative notes</h2>
<ul>
<li><strong>Executive summary</strong>: You will be making a submission to the <a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" target="_blank">House Prices: Advanced Regression Techniques</a> Kaggle competition based on a fitted <del>spline (MP1)</del>, <del>multiple regression (MP2)</del> LASSO regularized multiple regression model. The competition’s score for leaderboard purposes is the “root mean squared logarithmic error” (RMSLE).</li>
<li><strong>Due Thursday 5/2 10pm on Moodle</strong>.</li>
<li>You will be given time to work on MP5 in class on Wednesday 5/1 and Thursday 5/2 (last day of class).</li>
<li>Groups of between 2-3 members. There are no restrictions on who you choose to work with.
<ul>
<li><strong>If you already have a group</strong>: Designate a team leader and have them fill out this <a href="https://docs.google.com/spreadsheets/d/1YRlmq4pvrzmtq0iUha4uCwg2Xwiz3l1_e5ji-rWoqlc/edit#gid=1918067586" target="_blank">Google Sheet</a>.</li>
<li><strong>If you need a group</strong>: Please fill out this <a href="https://docs.google.com/forms/d/e/1FAIpQLSeifexbjkXQNgm6d7bvSn0KcYoB6RVH5ab50o-RS6NfAS58AQ/viewform" target="_blank">Google Form</a> and I’ll assign one for you.</li>
</ul></li>
</ul>
</div>
<div id="MP5-working" class="section level2">
<h2>Working on your project</h2>
<p>I will post all clarifications and hints in this section.</p>
<ul>
<li>Join the <code>#mp5</code> Slack channel.</li>
<li>Download the <code>MP5.zip</code> archive file containing the MP5 RStudio Project by clicking <a href="static/MP5.zip" download>here</a>.</li>
<li><strong>Windows users</strong>: Be sure to “extract” the contents of <code>MP5.zip</code> to a folder on your machine.</li>
<li>Whenever working on MP5, be sure to be in “RStudio Project mode” either by:
<ol style="list-style-type: decimal">
<li>Clicking the <code>MP5.Rproj</code> file</li>
<li>Selecting <code>MP5</code> from the drop-down menu of RStudio Projects in the top right of RStudio.</li>
</ol></li>
<li>Knit the <code>MP5.Rmd</code> file and read over everything once.</li>
<li>Whenever you’re not working on your project, click the RStudio Project icon in the top right of RStudio and select “Close Project”.</li>
<li>Policies:
<ul>
<li>You may use a function from a package to compute the relevant Kaggle leaderboard score.</li>
<li>You may not use a function from a packge to perform cross-validation; please code it up manually.</li>
<li>Feel free to use external sources, but please cite them using R Markdown footnotes. For example adding <code>^[This is my [source](https://www.smith.edu/)]</code> at the end of a sentence in R Markdown will yield: <a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></li>
</ul></li>
</ul>
</div>
<div id="MP5-submit" class="section level2">
<h2>What to submit</h2>
<p><strong>Group leader only</strong>:</p>
<ul>
<li>Submit a <code>MP5_Group_XX.zip</code> archive file with the contents of your <code>MP5</code> RStudio Project folder.</li>
</ul>
<p><strong>All group members</strong>:</p>
<ul>
<li>Complete the MP5 peer evaluation and exit survey. All group members must complete the Google Form to receive full credit. There are four sections:
<ol style="list-style-type: decimal">
<li>Questions about you.</li>
<li>Peer evaluations for MP5.</li>
<li>Questions about the use of Slack.</li>
<li>General questions about the course.</li>
</ol></li>
<li>You can find the MP5 peer evaluation and exit survey <a href="https://docs.google.com/forms/d/e/1FAIpQLSeWkLC1ik5ccYLjbobyS0KlLduoj5rlPSoRQopTXwpwG1h0XQ/viewform" target="_blank">here</a>.</li>
</ul>
</div>
<div id="grading-4" class="section level2">
<h2>Grading</h2>
<p><strong>Added on Tue 4/30</strong>: In order to minimize redundancy, I won’t re-write the specific criteria for each phase here. Please follow what’s written in <code>MP5.Rmd</code>.</p>
<ol style="list-style-type: decimal">
<li><strong>Baseline:</strong> Projects that do not satisfy all “baseline” criteria should expect to get a grade of less than 8/10.
<ul>
<li>Your <code>MP5.Rmd</code> R Markdown file must absolutely “knit” correctly.</li>
<li>Regardless of which model you fit, you must output a submission <code>.csv</code> file that returns a valid score on Kaggle. The grader will test this.</li>
<li>All plots (if any) must be “stand-alone” as possible by having informative labels and titles.</li>
<li>Remove all superfluous non-informative output from your report that only makes it more painful/tiresome to read.</li>
<li>Both group members submit their peer evaluations/exit survey info. No extensions will be granted.</li>
</ul></li>
<li><strong>Minimally viable product:</strong> Grade: 8/10.
<ul>
<li>Satisfy all “baseline” criteria.</li>
</ul></li>
<li><strong>Due diligence:</strong> Grade: 9/10.
<ul>
<li>Satisfy all “baseline” and “minimally viable product” criteria.</li>
</ul></li>
<li><strong>Reaching for the stars:</strong> Grade: 9.5/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, and “due diligence” criteria.</li>
</ul></li>
<li><strong>Point of diminishing returns:</strong> Grade: 10/10.
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, and “reaching for the stars” criteria.</li>
</ul></li>
<li><strong>Polishing the cannonball:</strong>
<ul>
<li>Satisfy all “baseline”, “minimally viable product”, “due diligence”, “reaching for the stars”, and “polishing the cannonball” criteria.</li>
</ul></li>
</ol>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This is my <a href="https://www.smith.edu/">source</a><a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>This is my <a href="https://www.smith.edu/">source</a><a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p>This is my <a href="https://www.smith.edu/">source</a><a href="#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p>This is my <a href="https://www.smith.edu/">source</a><a href="#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p>This is my <a href="https://www.smith.edu/">source</a><a href="#fnref5" class="footnote-back">↩</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
